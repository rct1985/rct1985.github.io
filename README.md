<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. iOS系统</a>
<ul>
<li><a href="#sec-1-1">1.1. 放大模式</a></li>
<li><a href="#sec-1-2">1.2. 3DTouch Bug</a></li>
<li><a href="#sec-1-3">1.3. ios 应用名国际化 , 手工法</a></li>
<li><a href="#sec-1-4">1.4. ios 高清版 包体压缩大小记录</a></li>
<li><a href="#sec-1-5">1.5. ios 标清版 包体压缩大小记录</a></li>
<li><a href="#sec-1-6">1.6. 查看Log</a></li>
</ul>
</li>
<li><a href="#sec-2">2. Mac 系统</a>
<ul>
<li><a href="#sec-2-1">2.1. Mac 清理 可清除部分 Purgeable</a></li>
<li><a href="#sec-2-2">2.2. U盘重新安装MacOS</a></li>
<li><a href="#sec-2-3">2.3. Compress 压缩</a></li>
<li><a href="#sec-2-4">2.4. 鼠标加速度</a></li>
<li><a href="#sec-2-5">2.5. 打开文件窗口,显示隐藏文件夹或文件</a></li>
<li><a href="#sec-2-6">2.6. sublime命令行执行</a></li>
<li><a href="#sec-2-7">2.7. 压缩软件</a></li>
</ul>
</li>
<li><a href="#sec-3">3. unity 学习</a>
<ul>
<li><a href="#sec-3-1">3.1. TouchScript的使用</a></li>
<li><a href="#sec-3-2">3.2. EventSystem</a></li>
<li><a href="#sec-3-3">3.3. delegate 和 event</a></li>
<li><a href="#sec-3-4">3.4. VSCode 问题</a>
<ul>
<li><a href="#sec-3-4-1">3.4.1. 编辑器</a></li>
<li><a href="#sec-3-4-2">3.4.2. 编译</a></li>
</ul>
</li>
<li><a href="#sec-3-5">3.5. SwipeControlXY问题</a></li>
<li><a href="#sec-3-6">3.6. 小技巧</a></li>
<li><a href="#sec-3-7">3.7. 插件Plugins在Inspectort选项</a></li>
<li><a href="#sec-3-8">3.8. SpriteSheet功能</a>
<ul>
<li><a href="#sec-3-8-1">3.8.1. 自带功能</a></li>
<li><a href="#sec-3-8-2">3.8.2. TexturePacker Importer</a></li>
<li><a href="#sec-3-8-3">3.8.3. 自定义Importer</a></li>
<li><a href="#sec-3-8-4">3.8.4. 绑定到右建菜单</a></li>
</ul>
</li>
<li><a href="#sec-3-9">3.9. 降低Batch 及 SetPass 个数 对应之前的DrawCall概念</a></li>
<li><a href="#sec-3-10">3.10. 降低在设备上(ios)上的进入游戏时间</a></li>
<li><a href="#sec-3-11">3.11. Mono2x 及 IL2Cpp 两个脚本实现方式</a></li>
<li><a href="#sec-3-12">3.12. StandAlong 平台全屏问题</a></li>
<li><a href="#sec-3-13">3.13. Standalong 全屏黑框问题</a></li>
<li><a href="#sec-3-14">3.14. 两个刚体忽略碰撞问题</a></li>
<li><a href="#sec-3-15">3.15. 带Alpha通道的图,  有毛边问题, 边上有脏点</a></li>
<li><a href="#sec-3-16">3.16. 导出app窗口模式下, 自定义鼠标不能在上下方向上移应用窗口</a></li>
<li><a href="#sec-3-17">3.17. 自定义鼠标</a></li>
<li><a href="#sec-3-18">3.18. 分辨率</a></li>
<li><a href="#sec-3-19">3.19. 设置支持分辨率比例</a></li>
<li><a href="#sec-3-20">3.20. 设备唯一ID</a></li>
<li><a href="#sec-3-21">3.21. Spine动画相关</a>
<ul>
<li><a href="#sec-3-21-1">3.21.1. Spine动作混合</a></li>
</ul>
</li>
<li><a href="#sec-3-22">3.22. IAP</a></li>
<li><a href="#sec-3-23">3.23. Log Viewer. 在unity Asset Store中免费下载.</a></li>
<li><a href="#sec-3-24">3.24. ScrollView 中含有 按钮Button</a></li>
<li><a href="#sec-3-25">3.25. 光源 渲染模式RenderMode</a></li>
<li><a href="#sec-3-26">3.26. Sprite光照</a></li>
<li><a href="#sec-3-27">3.27. 环境光Ambient</a></li>
<li><a href="#sec-3-28">3.28. Normap法线贴图</a></li>
<li><a href="#sec-3-29">3.29. dll aar, jar库文件管理</a></li>
<li><a href="#sec-3-30">3.30. Windows版 及Mac版 导出差异</a></li>
<li><a href="#sec-3-31">3.31. iPhoneX HomeIndicator问题</a></li>
<li><a href="#sec-3-32">3.32. iPhoneX的适配</a></li>
<li><a href="#sec-3-33">3.33. UIWidget 学习</a></li>
<li><a href="#sec-3-34">3.34. JsonDotNet, unity插件, 可以在AssetsStore免费下载,</a></li>
<li><a href="#sec-3-35">3.35. 降低DrawCall</a></li>
<li><a href="#sec-3-36">3.36. Pacg<sub>tag及不同的压缩方式</sub></a></li>
<li><a href="#sec-3-37">3.37. C#4.0</a></li>
<li><a href="#sec-3-38">3.38. 云打包</a></li>
<li><a href="#sec-3-39">3.39. dll混淆加密</a></li>
<li><a href="#sec-3-40">3.40. 压缩格式</a></li>
<li><a href="#sec-3-41">3.41. 后台返回游戏 黑屏bug</a></li>
</ul>
</li>
<li><a href="#sec-4">4. git 学习</a>
<ul>
<li><a href="#sec-4-1">4.1. 创建远端仓库</a></li>
<li><a href="#sec-4-2">4.2. 本地项目关联远端仓库及上传</a></li>
<li><a href="#sec-4-3">4.3. git alias, 编辑 ~/.gitconfig文件 增加</a></li>
<li><a href="#sec-4-4">4.4. 不小心跟踪了一个不想被跟踪的文件怎么办？</a></li>
<li><a href="#sec-4-5">4.5. SourceTree</a>
<ul>
<li><a href="#sec-4-5-1">4.5.1. 保存密码 (解决SourceTree老要求密码)</a></li>
<li><a href="#sec-4-5-2">4.5.2. 使用keyChain验证 (解决SourceTree老要求密码)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-5">5. 游戏平台</a>
<ul>
<li><a href="#sec-5-1">5.1. WeGame</a>
<ul>
<li><a href="#sec-5-1-1">5.1.1. 开发版客户端</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-6">6. Maya学习</a>
<ul>
<li><a href="#sec-6-1">6.1. Mesh</a>
<ul>
<li><a href="#sec-6-1-1">6.1.1. 三种布尔运算</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-7">7. CentOS服务器学习</a>
<ul>
<li><a href="#sec-7-1">7.1. 建立sudoer帐户,用户名为"ec2"</a></li>
<li><a href="#sec-7-2">7.2. apache服务</a></li>
<li><a href="#sec-7-3">7.3. php升级</a></li>
<li><a href="#sec-7-4">7.4. Mysql服务</a></li>
<li><a href="#sec-7-5">7.5. phpmyadmin</a></li>
<li><a href="#sec-7-6">7.6. Zentao 服务</a>
<ul>
<li><a href="#sec-7-6-1">7.6.1. 自带apache及mysql安装(一键安装)</a></li>
<li><a href="#sec-7-6-2">7.6.2. 共用apache及mysql(源码安装)</a></li>
</ul>
</li>
<li><a href="#sec-7-7">7.7. chanzhi服务</a></li>
<li><a href="#sec-7-8">7.8. 挂载光驱,</a></li>
<li><a href="#sec-7-9">7.9. ftp服务</a></li>
</ul>
</li>
<li><a href="#sec-8">8. amazon学习</a>
<ul>
<li><a href="#sec-8-1">8.1. sshd原来, 不能ssh登录到instance</a></li>
</ul>
</li>
<li><a href="#sec-9">9. 网站Web学习</a>
<ul>
<li><a href="#sec-9-1">9.1. IE早期版本问题, 兼容性</a></li>
<li><a href="#sec-9-2">9.2. Boostrap学习</a>
<ul>
<li><a href="#sec-9-2-1">9.2.1. 资源</a></li>
<li><a href="#sec-9-2-2">9.2.2. 技巧</a></li>
<li><a href="#sec-9-2-3">9.2.3. 弹出图片层</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-10">10. Emacs学习</a></li>
<li><a href="#sec-11">11. 翻墙</a>
<ul>
<li><a href="#sec-11-1">11.1. 第三方</a></li>
<li><a href="#sec-11-2">11.2. aws 上搭建shadowsocks</a></li>
</ul>
</li>
<li><a href="#sec-12">12. XCode学习</a>
<ul>
<li><a href="#sec-12-1">12.1. 导出unity 适用的 framework</a></li>
</ul>
</li>
<li><a href="#sec-13">13. Mac Store</a>
<ul>
<li><a href="#sec-13-1">13.1. 限制条件/不利条件</a></li>
</ul>
</li>
<li><a href="#sec-14">14. Android学习</a>
<ul>
<li><a href="#sec-14-1">14.1. 安装Android Studio 及 Andoid SDK</a></li>
<li><a href="#sec-14-2">14.2. unity android工程交互两种方式</a></li>
<li><a href="#sec-14-3">14.3. android studio  打出jar包</a></li>
<li><a href="#sec-14-4">14.4. android studio调试</a>
<ul>
<li><a href="#sec-14-4-1">14.4.1. logcat 过滤</a></li>
</ul>
</li>
<li><a href="#sec-14-5">14.5. 安装apk 到真机或模拟器</a></li>
<li><a href="#sec-14-6">14.6. java代码和C#代码交互</a></li>
<li><a href="#sec-14-7">14.7. android包体大小加缩记录</a></li>
<li><a href="#sec-14-8">14.8. unity包体大小总结</a></li>
<li><a href="#sec-14-9">14.9. GooglePlay Services 接口</a></li>
<li><a href="#sec-14-10">14.10. 上传至Google Play</a></li>
<li><a href="#sec-14-11">14.11. Googleplay App Signing (GooglePlay重签名)</a></li>
<li><a href="#sec-14-12">14.12. unity导出apk签名</a></li>
<li><a href="#sec-14-13">14.13. Android中, 弹出小显示,可用于Debug</a></li>
<li><a href="#sec-14-14">14.14. 返回键, 让游戏进入后台,而不是Quit</a></li>
<li><a href="#sec-14-15">14.15. 反编译AndroidManifest.xml</a></li>
<li><a href="#sec-14-16">14.16. unity 导出 android sutdio工程</a></li>
<li><a href="#sec-14-17">14.17. Android Studio中, 打出apk</a></li>
<li><a href="#sec-14-18">14.18. Android studio内接入第三方sdk</a></li>
<li><a href="#sec-14-19">14.19. 自定义mainTemplate.gradle</a></li>
<li><a href="#sec-14-20">14.20. AS2.2.3 VS AS2.3 VS AS3.0</a></li>
<li><a href="#sec-14-21">14.21. Standalone SDK Manager</a></li>
<li><a href="#sec-14-22">14.22. 辨别V1 V2签名</a></li>
<li><a href="#sec-14-23">14.23. Unity与Android交互, C#与Android交互</a></li>
<li><a href="#sec-14-24">14.24. Android Studio 自动删除无用的import (打开或关闭)</a></li>
<li><a href="#sec-14-25">14.25. Android Studio 打包失败, 内存溢出</a></li>
<li><a href="#sec-14-26">14.26. Android重新签名</a></li>
<li><a href="#sec-14-27">14.27. Android 查看apk签名</a></li>
<li><a href="#sec-14-28">14.28. Android Studio 下 AndroidMonitor  查看logcat</a></li>
<li><a href="#sec-14-29">14.29. 查看电视上运行的apk输出的log</a></li>
<li><a href="#sec-14-30">14.30. 资源出错 expected reference but got (raw string)</a></li>
<li><a href="#sec-14-31">14.31. Unity打包时  "Unable to convert classes into DEX format"</a></li>
<li><a href="#sec-14-32">14.32. 真机查看log, 使用adb logcat</a></li>
</ul>
</li>
<li><a href="#sec-15">15. Steam学习</a>
<ul>
<li><a href="#sec-15-1">15.1. unity集成第三方.NetSDK</a></li>
<li><a href="#sec-15-2">15.2. 集成完毕后打出Mac, Winows游戏包</a></li>
<li><a href="#sec-15-3">15.3. Steamworks 上传前设置 "Technial Tools"-&gt;"Edit Steamworks Setting"</a></li>
<li><a href="#sec-15-4">15.4. Steamworks Build及Package的创建</a></li>
<li><a href="#sec-15-5">15.5. Steamworks版本上传</a></li>
<li><a href="#sec-15-6">15.6. Steam 客户端下载</a></li>
<li><a href="#sec-15-7">15.7. Steam 兑换码</a></li>
<li><a href="#sec-15-8">15.8. Steam 杂项</a>
<ul>
<li><a href="#sec-15-8-1">15.8.1. 成就列表, 正式发售前, 不可以查看</a></li>
<li><a href="#sec-15-8-2">15.8.2. DLC收费的话</a></li>
<li><a href="#sec-15-8-3">15.8.3. 测试方式</a></li>
<li><a href="#sec-15-8-4">15.8.4. 客户端图像</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-16">16. python学习</a>
<ul>
<li><a href="#sec-16-1">16.1. 读取excel xlrd</a></li>
<li><a href="#sec-16-2">16.2. python<sub>django</sub></a>
<ul>
<li><a href="#sec-16-2-1">16.2.1. 安装MySQLdb</a></li>
<li><a href="#sec-16-2-2">16.2.2. python 使用protobuf</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-17">17. Excel学习</a>
<ul>
<li><a href="#sec-17-1">17.1. Excel 常公式</a></li>
</ul>
</li>
<li><a href="#sec-18">18. Temp</a></li>
<li><a href="#sec-19">19. Beyond Compare</a>
<ul>
<li><a href="#sec-19-1">19.1. 无限试用4.x版本</a></li>
</ul>
</li>
</ul>
</div>
</div>

# iOS系统<a id="sec-1" name="sec-1"></a>

## 放大模式<a id="sec-1-1" name="sec-1-1"></a>

-   iphone6以后, 4.7/5.5寸手机, 可以选择放大模式
-   4.7 放大模式 分辨率变为(1136 x 640) 正常模式(1334 x 750)
-   5.5 放大模式 分辨率变为(1125 x 2001)  正常模式(1242 x 2208)

## 3DTouch Bug<a id="sec-1-2" name="sec-1-2"></a>

-   参考 "<http://blog.csdn.net/rct1985/article/details/53127312>"

## ios 应用名国际化 , 手工法<a id="sec-1-3" name="sec-1-3"></a>

-   XCode工程建立完毕
-   新建文件InfoPlist.strings,  游戏在文件类型
-   导航栏里选中这个文件, 在右侧工具栏里 Localize
-   增加相应语言, (一种语言对应一个文件夹), 相应目录下就复制了一份同名文件
-   "CFBundleDisplayName" = "Flood of Light"; 类似键值对, 加到相应strings文件中去
-   检查一下Info.plist文件中的DisplayName
-   打包上设备, 在设备上切换语言时, 应用程序的显示名就会相应改变
-   它也决定了, 在Appstore里. 显示支持那些语言 (! important)

## ios 高清版 包体压缩大小记录<a id="sec-1-4" name="sec-1-4"></a>

-   POT 要求图长宽一至, 且为2的n次幂
-   标准地图大小为2048 \* 1536.  (70~80张)
-   非POT处理之前. IPA大小:138M左右, 安装完大小:1.2G
-   POT处理了大部分图片后. IPA大小:138M左右, 安装完大小730M

## ios 标清版 包体压缩大小记录<a id="sec-1-5" name="sec-1-5"></a>

-   标准地图大小为1024 \* 768 (70~80张)
-   非POT处理之前. IPA大小:112.7M, 安装完大小 610M
-   POS处理了一部分图片后(大约处理了20张 1027 \* 768的图. -> 1024\*1024) IPA大小107M,  安装完大小590M

## 查看Log<a id="sec-1-6" name="sec-1-6"></a>

-   /Application/Utilities/Console.app
-   左侧选中设备或电脑
-   右上角可以加入关键字过滤 eg:wordtown

# Mac 系统<a id="sec-2" name="sec-2"></a>

## Mac 清理 可清除部分 Purgeable<a id="sec-2-1" name="sec-2-1"></a>

-   参考 "<https://forums.developer.apple.com/thread/50073>"
-   这块区域是因为iCould同步引起的. 默认"桌面"和"文档"目录同步iCloud
-   并不能直接删除这块区域, 只能通过引入大文件, 写掉这块区域, 再删除
-   mkfile -n 100G ~/Desktop/BigFile1
-   sudo rm ~/Desktop/BigFile1
-   注意, 文件比较大, 需要较好时间, 请耐心等待
-   用这种方式操作, 直到在磁盘工具里, 这块区域变得很小

## U盘重新安装MacOS<a id="sec-2-2" name="sec-2-2"></a>

-   Appstore 下载最新Mac系统
-   自动会下载到/Application, 且下载完会自动运行, 暂时Quit掉
-   准备一个>=16G U盘, 新系统下8G 可能不够用
-   参考 "<http://www.macx.cn/forum.php?mod=viewthread&tid=2187285&extra=page%253D1&page=1>"
-   核心命令
    sudo *Applications/Install\\ macOS\\ Sierra.app/Contents/Resources/createinstallmedia &#x2013;volume /Volumes/UDisk* &#x2013;applicationpath /Applications/Install\\ macOS\\ Sierra.app &#x2013;nointeraction
-   U盘制作完毕后, 重新按重option键(最好用有线的apple键盘, 普通键盘win+alt), 选择U盘启动
-   启动进去, 用磁盘工具, 把主硬盘格式化掉
-   退出磁盘工具, 选择安装系统到主硬盘
-   Mac 10.12 安装完约12G

## Compress 压缩<a id="sec-2-3" name="sec-2-3"></a>

-   Mac默认加压缩, 会自动生成\_<sub>MACOSX文件夹</sub>, 以方便压缩后Mac系统使用缩略图及其它数据
-   这个的压缩文件, Mac系统间共享, 没有问题, 但如果和Windows用户或Linux用户共享的话. 他们会很不方便
-   解决方法1 把当前目录下所有文件压缩成 zip  target.zip -r ./ -x "\*.DS<sub>Store</sub>"
-   解决方法2 压缩指定文件夹 zip  target.zip -r ./targetDir/  -x "\*.DS<sub>Store</sub>"

## 鼠标加速度<a id="sec-2-4" name="sec-2-4"></a>

-   <http://osxdaily.com/2010/08/25/mouse-acceleration/>

defaults read -g com.apple.mouse.scaling 读取(0.6875)
defaults write -g com.apple.mouse.scaling -1 (关闭)

## 打开文件窗口,显示隐藏文件夹或文件<a id="sec-2-5" name="sec-2-5"></a>

-   Command+Shift+">" 快捷键, 可以打开隐藏目录

## sublime命令行执行<a id="sec-2-6" name="sec-2-6"></a>

-   ln -s "/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl" /usr/local/bin/sublime

## 压缩软件<a id="sec-2-7" name="sec-2-7"></a>

-   keka软件, 支持按特定编码解压/压缩, 但收费

# unity 学习<a id="sec-3" name="sec-3"></a>

## TouchScript的使用<a id="sec-3-1" name="sec-3-1"></a>

-   把TouchScript库导入工程
-   一般在MainCamera里加入CamerLayer2D 或 CameraLayer 组件
-   运行时, 就会产生TouchScript这个GameObject. 代码中就可以使用TouchManager.Instance 来注册各种Touch事件

## EventSystem<a id="sec-3-2" name="sec-3-2"></a>

-   在场景中第一次加入UI元素时, 会自动加入EventSystem对象, 一个场景中只需要一个
-   它统一管理多个Input Module和各种Raycaster。它每一帧调用多个Input Module处理用户操作，
-   也负责调用多个Raycaster用于获取用户点击的uGUI控件以及2D和3D物体。

## delegate 和 event<a id="sec-3-3" name="sec-3-3"></a>

-   delegate 可以理解为封装过的函数指针, 比较通用, 但不够安全  应该是"+=" 写成 "=" 不会报错
-   event 是一个参数类型特殊的delegate, 相对安全 public delegate void EventHandler(object sender, EventArgs e);

## VSCode 问题<a id="sec-3-4" name="sec-3-4"></a>

### 编辑器<a id="sec-3-4-1" name="sec-3-4-1"></a>

-   不能全局替换
-   没有DeleteSubWordLeft 功能, 删除只能删除整个单词

### 编译<a id="sec-3-4-2" name="sec-3-4-2"></a>

-   它只编译Assemebly-CSharp.csproj工程下代码文件
-   Assemebly-CSharp-Editor.csproj 及 Assemebly-CSharp-Editor-firstpass.csproj两个工程不编译, 有错误也报不了来

## SwipeControlXY问题<a id="sec-3-5" name="sec-3-5"></a>

-   加入了blockByUI的开关. 来设置在它上面有Button,Image或其它UI时能不能滑动
-   activeArea的大小, 在ipad或ipadPro上. 要设置成Screen.Width Screen.Height. 不能有区域不能滑动
-   在外部点击按钮直接设置CurrentValue, 在ios上不起作用. 原因是抬起事件, 最后又被它捕获, 更新了CurrentValue
    解决方法, 可以延迟0.1s执行 翻页

## 小技巧<a id="sec-3-6" name="sec-3-6"></a>

1：对于运动的物体，双击F，可以让view focus运动的物体。
2：Shift +空格 ： 编辑模式下全屏
3：Alt-Click: collapse and expand all folders and sub-folders
4:  Layers里面可以锁定指定层(在场景视图下不被点击选中)，或设置指定层不可见.
5：Inspector界面可以开启Debug模式，这样private变量也可以显示
6：可以对Inspector的变量添加[Range(min,max)]修饰，这样在inspector中可以看到一个slider。
7：Inspector变量可以添加[Header(“your<sub>header”</sub>)]，来划分不同类别的变量。[Space(10)]还可以设定间隔距离。

## 插件Plugins在Inspectort选项<a id="sec-3-7" name="sec-3-7"></a>

-   <https://docs.unity3d.com/Manual/PluginInspector.html>

## SpriteSheet功能<a id="sec-3-8" name="sec-3-8"></a>

### 自带功能<a id="sec-3-8-1" name="sec-3-8-1"></a>

-   操作,选中同类的图片资源, 赋以相同的""Packing Tag""名字
-   查看,可以在Windows->Sprite Packer中查看
-   结果,打出包来. 会发现容量减少了许多

### TexturePacker Importer<a id="sec-3-8-2" name="sec-3-8-2"></a>

-   只支持\*.tpsheet格式,
-   tpsheet 格式时, 图片不翻转的, 因为SpriteMetaData不支翻转
-   也就是说需要花钱

### 自定义Importer<a id="sec-3-8-3" name="sec-3-8-3"></a>

-   外部工具,比如TexturePacker导出时, 不能翻转 取消"Allow Rotatioin" 或 "Auto Roration"
-   XY值, 外部工具以左上角为(0,0) X向右为正 Y向下为正 ; SpriteMetaData以左下角开始
-   Pivot, 它的意思是物休旋转或放置时的参考点.
    再说白一点,就是以物体上(都不一定在物体上)的哪个点为准, 把它放置到指定位置
     或旋转指定角度
-   pivot值,算起来稍微复杂一些. 参见代码

### 绑定到右建菜单<a id="sec-3-8-4" name="sec-3-8-4"></a>

-   [MenuItem("Assets/SliceByXml")] 右建菜单即是菜单栏里, Assets下的子菜单
-   string l<sub>strPath</sub> = AssetDatabase.GetAssetPath (Selection.activeObject as UnityEngine.Object);
-   TextureImporter l<sub>textureImporter</sub> = TextureImporter.GetAtPath (l<sub>strPath</sub>) as TextureImporter;
-   两句关键代码, 拿到TextureImport, 就可以用以面的算法切图片了

## 降低Batch 及 SetPass 个数 对应之前的DrawCall概念<a id="sec-3-9" name="sec-3-9"></a>

-   给每Prefab上同一类的SpriteRender一个它自己的SortingLayer和odrer in layer
-   尽量保证同一类的Sprite描画在同一层的同一order, 而且. 这一层上不应该有别的Sprite
-   每个Canvas上的 Image都会是一个Batch. 所以worldmode模式的Canvas中的Image尽量弄成SpriteRender
-   屏幕外的对象, 尽量SetActive(false)
-   不透明度为0时, 也会占用Batch

## 降低在设备上(ios)上的进入游戏时间<a id="sec-3-10" name="sec-3-10"></a>

-   测试证明, 使用LoadSceneAsync(异步切换场景) 并不能解决加载时卡的现象
-   用了一个FadeTransition 来遮掩这个现象

## Mono2x 及 IL2Cpp 两个脚本实现方式<a id="sec-3-11" name="sec-3-11"></a>

-   unity5.3后, 默认实现改为IL2Cpp
-   切换之后, 链接问题:
    -   "InitializeScriptingBackend();" 在main.mm中. 这句话不再使用要去掉
    -   它产生的main.mm 和原来的不一样. 如果有自定义main.mm的话. 要分情况处理
        // replace Main
        ScriptingImplementation l<sub>implemention</sub> = (ScriptingImplementation)PlayerSettings.GetPropertyInt("ScriptingBackend", BuildTargetGroup.iOS);
        if(l<sub>implemention</sub> == ScriptingImplementation.Mono2x){
            FileUtility.CopyFile (portDir + "/Revival<sub>main</sub><sub>Mono2x</sub>.mm", pathToBuiltProject + "/Classes/main.mm");
        }else if(l<sub>implemention</sub> == ScriptingImplementation.IL2CPP){
            FileUtility.CopyFile (portDir + "/Revival<sub>main</sub><sub>IL2Cpp</sub>.mm", pathToBuiltProject + "/Classes/main.mm");
        }else{
            Debug.LogError("not support this implemention");
        }

-   运行问题:
    -   "Method not found: 'Default constructor not found&#x2026;ctor() of System.ComponentModel.Int64Converter'."
    -   参见 "<http://www.it165.net/pro/html/201502/35079.html>"
    -   总体来讲, 没有快多少

sour

## StandAlong 平台全屏问题<a id="sec-3-12" name="sec-3-12"></a>

-   直接设置全屏仅是, 把当前设置的分辨率, 拉伸到全屏, 不保证等比
-   所以, 全屏时, 要手工设置分辨率, 让其比例为其实屏幕比例
-   手工处理, 这个比例下黑框问题

## Standalong 全屏黑框问题<a id="sec-3-13" name="sec-3-13"></a>

-   手工动态加黑框

## 两个刚体忽略碰撞问题<a id="sec-3-14" name="sec-3-14"></a>

-   一般来讲, 两个刚体, 会相互推着走
-   Physics2D.IgnoreLayerCollision (LayerMask.NameToLayer("A"), LayerMask.NameToLayer(B""));
-   Physics2D.IgnoreCollision(colliderA, colliderB);

## 带Alpha通道的图,  有毛边问题, 边上有脏点<a id="sec-3-15" name="sec-3-15"></a>

-   编辑时没问题, 运行时毛边
-   问题原因未明
-   改名再改回来, 或重新导入就ok

## 导出app窗口模式下, 自定义鼠标不能在上下方向上移应用窗口<a id="sec-3-16" name="sec-3-16"></a>

## 自定义鼠标<a id="sec-3-17" name="sec-3-17"></a>

-   参见 <http://www.aichengxu.com/view/2400348>

## 分辨率<a id="sec-3-18" name="sec-3-18"></a>

-   Screen.width Screen.height 游戏分辨率
-   Screen.creentResolution, 设备的分辨率, 如果是窗口模式的话, 它就大于Screen.width
-   分辨率设置如果 Screen.width/height 超过了 Screen.currentResolution 的设定，设置就会失败
-   更多参见文档

## 设置支持分辨率比例<a id="sec-3-19" name="sec-3-19"></a>

-   PlayerSetting StandAlong平台下, Supported Aspect Ratio 列出了常见分辨率, 打勾
-   移动平台千万不要设置分辨率, 否则Android 就现会出导航栏,

## 设备唯一ID<a id="sec-3-20" name="sec-3-20"></a>

-   SystemInfo.deviceUniqueIdentifier;
-   文档说明:iOS: on pre-iOS7 devices it will return hash of MAC address. On iOS7 devices it will be UIDevice identifierForVendor or, if that fails for any reason, ASIdentifierManager advertisingIdentifier.
-   可能更改之处: 删除一个开发商的所有应用后, 再安装会变, 不能adhoc证书和distribution证书也不一样
    <https://developer.apple.com/reference/uikit/uidevice/1620059-identifierforvendor>

## Spine动画相关<a id="sec-3-21" name="sec-3-21"></a>

### Spine动作混合<a id="sec-3-21-1" name="sec-3-21-1"></a>

-   动画默认混合0.2s
-   在spine资源目录下, xxx<sub>SkeletonData文件的inspector中可以修改</sub>(为0)
-   也可以再此增加特定动作混合, 最好用代码来管理, 方面修改和查看

## IAP<a id="sec-3-22" name="sec-3-22"></a>

-   IAP Enable打开后, UNITY<sub>PURCHASING</sub> 这个宏开起

## Log Viewer. 在unity Asset Store中免费下载.<a id="sec-3-23" name="sec-3-23"></a>

-   在起始场景增加一个物件, 简单设置一下.
-   画圆圈的手势, 打开log视图

## ScrollView 中含有 按钮Button<a id="sec-3-24" name="sec-3-24"></a>

-   需求 A:Button事件正常触发, B按住Button拖动,ScrollView也能响应划动
-   Button直接在Editor中配置它的OnClick事件, 可以达到要求 (但无法传参进去)
-   EventTrigger 或 改进版EventTriggerListener, (只要包含这个脚本组件,就会吞掉事件) 可以传参, 但它会吃掉Swallow事件, 导致ScrollView不响应
-   比较好的办法是
    m<sub>buttonSelect</sub>.onClick.AddListener(
         ()=>{
             OnClickSelect(m<sub>buttonSelect</sub>.gameObject, null);
         }
    );

## 光源 渲染模式RenderMode<a id="sec-3-25" name="sec-3-25"></a>

-   Important -> ForcePixel        像素模式, 代价比较大
-   NotImportant -> ForceVertex 顶点模式, 代价小
-   Auto -> Auto,  根据光强度, 距离, 自动判断, 应该归为上面的那一种
-   Quality Setting中. 每个级别, 决定了Auto时, 最多有几个Pixel Mode的光源
-   一般来讲, 场景中只有一ForcePixel的Light

## Sprite光照<a id="sec-3-26" name="sec-3-26"></a>

-   默认加入的Sprite的Material为内置Sprites-Default , 这使用的shader为Sprites/Default
-   如果想要和场景内光源交互时, 需要新建一个Material, 使用sharder为 Sprites/Diffuse
-   光源要放到Sprites的前面, (z值为负)
-   因为光只能照到Sprite的一面, 所以旋转的话, 另一面无光, 可以Flip, Scale, Pos变化

## 环境光Ambient<a id="sec-3-27" name="sec-3-27"></a>

Windows->Lighting->Setting. 设置无光时亮度

## Normap法线贴图<a id="sec-3-28" name="sec-3-28"></a>

-   如果要增加法线贴图的效果, 把光源的位置|z|改小, 强度减小, 但照射距离加大
-   某些shader支持Normap

## dll aar, jar库文件管理<a id="sec-3-29" name="sec-3-29"></a>

-   不同平台, 可能会引用不同的jar文件或aar文件
-   默认情况下, 所有aar,jar都会打到包里去
-   特定平台打包时, 可以把没用的相应文件在 inspector视图中, 去掉钩选
-   自动处理,
    -   首先全部取消勾选,
    -   或者把所有的平台相关资源, 拿到Untiy工程外部去
    -   在OnPostprocessBuild  函数中. 根据环境变量, 自定义copy

## Windows版 及Mac版 导出差异<a id="sec-3-30" name="sec-3-30"></a>

-   只更改一些逻辑代码的话, Windows版导出文件差异在于
-   XXX<sub>Data</sub>/Managed/Assembly-CSharp.dll 及对应的 Assembly-CSharp-firstpass.dll文件
-   Mac版差异在于
-   Content/Resources/Data/Managed/Assembly-CSharp.dll
-   如果有产品MD5检测码的话, 也会有差别

## iPhoneX HomeIndicator问题<a id="sec-3-31" name="sec-3-31"></a>

-   Unity导出游戏, 默认HomeIndicator会常亮, 一次向上滑动就能回到Home
-   需求A: 正常状态下, HomeIndicator灰掉
-   需求B: 向上滑一次后, 先激活HomeIndicator, 再向上滑时, 回到Home
-   实现: UnityViewControllerBase+iOS.h 文件中增加
    -   (UIRectEdge)preferredScreenEdgesDeferringSystemGestures; // add this
    -   (BOOL)prefersHomeIndicatorAutoHidden; // add this
-   UnityViewControllerBase+iOS.mm 文件中增加
    // add this
    -   (BOOL)prefersHomeIndicatorAutoHidden
    
    {
        return NO;
    }
    
    // add this
    
    -   (UIRectEdge)preferredScreenEdgesDeferringSystemGestures
    
    {
         return UIRectEdgeBottom;
     }

## iPhoneX的适配<a id="sec-3-32" name="sec-3-32"></a>

-   对于UI为主的游戏来讲, Canvas内部增加一个全屏模式RectTransfor,设置它的大小为想要的安全区域大小
-   其它带九宫格停靠的UI, 放到这个安全区域结点下.来实现iphonex的安全区域
-   这样一来, UI下, 全屏的背影图或全屏的黑底需要处理一下, 改变位置及大小,让他们继续设备全屏

## UIWidget 学习<a id="sec-3-33" name="sec-3-33"></a>

## JsonDotNet, unity插件, 可以在AssetsStore免费下载,<a id="sec-3-34" name="sec-3-34"></a>

相对于Unity自带的JsonUtility有以下优点
-   可以解析  类对象中的自动属性(get;set;)
-   可以解析,根目录数组
-   可以解析到一个已经有数据的对象中去, 覆盖原有数据

缺点:
-   需要下载
-   效率底于JsonUtility

## 降低DrawCall<a id="sec-3-35" name="sec-3-35"></a>

-   在Profiler-> Rendering -> OpenFrameDebugger
-   可看查看到这一帧内DrawCall的执行顺序,每张小图是怎么描画出来的
-   Editor->ProjectSetting->Editor, 设置SpritePacker为AlwaysEnabled(以方便查看真实的drawCall)
-   以优化减少drawcall
-   把项目中的小图, 统一加上Pack<sub>tag</sub>
-   避免图片叠加, LayoutGroup中, space不能为0
-   避免使用Mask, 尽量使用图
-   批量Prefab内部, 不要使用None Sprite, 或UISprite 它会打断Batch, 请使用已经在图集中的图, 然后设置透明

## Pacg<sub>tag及不同的压缩方式</sub><a id="sec-3-36" name="sec-3-36"></a>

-   同一tag全打成一个图集, 放不下的话, 会有多个pages
-   同一tag不同压缩方式, 图集会首先会按压缩方式不同分group, 每个group下如果需要再分pages

## C#4.0<a id="sec-3-37" name="sec-3-37"></a>

-   支持异步线程, async task

## 云打包<a id="sec-3-38" name="sec-3-38"></a>

-   <https://developer.cloud.unity3d.com>
-   一定保证所有项目文件,都被Git管理, 尤其注意较大dll文件
-   如果云打包失败, 在本地测试新clone一份试试

## dll混淆加密<a id="sec-3-39" name="sec-3-39"></a>

-   混淆过的dll文件, Script backend为Mono时没问题
-   IL2CPP时, (ios与WegGL必须得用IL2CPP),生成工程是有问题

## 压缩格式<a id="sec-3-40" name="sec-3-40"></a>

-   Android默认为ECT 4bit
-   iOS默认为PVRT 4bit
-   但iOS很多图片, 有边缘毛边现象, 边缘脏, 锯齿现象, 纯色颗粒
-   iOS可以改成 ASTC 4x4 block压缩格式. 对包体大小影响不大(稍微变大一点点)

## 后台返回游戏 黑屏bug<a id="sec-3-41" name="sec-3-41"></a>

-   在PlaySetting->Others->Graphics Jobs 这个选择勾选后,
-   某些机器上出现再次返回游戏黑屏bug, 取消勾选后解决

# git 学习<a id="sec-4" name="sec-4"></a>

## 创建远端仓库<a id="sec-4-1" name="sec-4-1"></a>

-   登录git服务器
-   进入repositories目录
-   创建新项目仓库 git init &#x2013;bare RainDayTV.git

## 本地项目关联远端仓库及上传<a id="sec-4-2" name="sec-4-2"></a>

-   进入项目目录
-   初始化git    git init
-   创建 .gitignore 文件,并编辑好
-   git add . 及 git commit -m "" 来创建新一次上传记录
-   关联远端
    git remote add origin git@192.168.1.180:~/repositories/RainDayTV.git
    git remote add bitbucket <https://TerrenceRao@bitbucket.org/TerrenceRao/raindaytv.git>
-   如果远端仓库, 已经有文件README.txt 或 License文件, 需要
        git pull bitbucket master -&#x2014;allow-unrelated-histories
    把远端文件先同步到本地
-   上传远端 git push origin master

## git alias, 编辑 ~/.gitconfig文件 增加<a id="sec-4-3" name="sec-4-3"></a>

[alias]
st = status
ci = commit
co = checkout
br = branch
lg = log &#x2013;graph &#x2013;abbrev-commit &#x2013;decorate &#x2013;format=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(dim white)- %an%C(reset)%C(bold yellow)%d%C(reset)' &#x2013;all

## 不小心跟踪了一个不想被跟踪的文件怎么办？<a id="sec-4-4" name="sec-4-4"></a>

-   使用命令：
    git update-index -–assume-unchanged path/to/file
    eg "git update-index &#x2013;assume-unchanged Unity/Assets/Heyzap/Ads/AdColony/Plugins/iOS/AdColony.framework/Versions/A/\*.meta

"
     即可取消跟踪相应文件的更改。
-   如果想跟踪回来，执行：
    git update-index –-no-assume-unchanged path/to/file
-   一般用在, 更改大文件时, 暂时不要被追踪的情况
-   如果真的不需要跟踪这个文件时, 最后用 git rm &#x2013;cached , 然后再修改.gitignore文件来达到目的

即可。

## SourceTree<a id="sec-4-5" name="sec-4-5"></a>

### 保存密码 (解决SourceTree老要求密码)<a id="sec-4-5-1" name="sec-4-5-1"></a>

-   项目下.git/config文件
-   url:<https://TerrenceRao@bitbucket.org/TerrenceRao/raindaytv.git>
-   改为:<https://TerrenceRao:my_password@bitbucket.org/TerrenceRao/raindaytv.git>

### 使用keyChain验证 (解决SourceTree老要求密码)<a id="sec-4-5-2" name="sec-4-5-2"></a>

git config &#x2013;global credential.helper osxkeychain

# 游戏平台<a id="sec-5" name="sec-5"></a>

## WeGame<a id="sec-5-1" name="sec-5-1"></a>

### 开发版客户端<a id="sec-5-1-1" name="sec-5-1-1"></a>

-   开发版客户端, 运行游戏时, 提示"此版本客户端没有权限, 打开游戏失败"
-   需要到正式版游戏安装目录下, 把tcls文件夹, 复制到测试游戏中目录下

# Maya学习<a id="sec-6" name="sec-6"></a>

## Mesh<a id="sec-6-1" name="sec-6-1"></a>

### 三种布尔运算<a id="sec-6-1-1" name="sec-6-1-1"></a>

# CentOS服务器学习<a id="sec-7" name="sec-7"></a>

## 建立sudoer帐户,用户名为"ec2"<a id="sec-7-1" name="sec-7-1"></a>

-   root登录
-   增加用户: adduser ec2
-   设置密码: passwd ec2
-   设置用户组: usermod -aG wheel username
    wheel组内用户默认拥有sudo权限
-   切换到新用户: su ec2

## apache服务<a id="sec-7-2" name="sec-7-2"></a>

-   conf文件 "/etc/httpd/conf/httpd.conf"
-   module config文件 "/etc/httpd/conf.modules.d/\*.conf"
-   启动服务 "apachectl restart"

## php升级<a id="sec-7-3" name="sec-7-3"></a>

-   默认安装的php5.4, 因为新特性原因需要升级
-   查看已经安装版本 yum list installed | grep php
-   查看可以安装版本 yum list available | grep php
-   如果不存在想要的版本,添加镜像仓库
    -   CentOS/RHEL 7.x:
    -   rpm -Uvh <https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm>
    -   rpm -Uvh <https://mirror.webtatic.com/yum/el7/webtatic-release.rpm>
    -   CentOS/RHEL 6.x:
    -   rpm -Uvh <https://mirror.webtatic.com/yum/el6/latest.rpm>
-   安装新版本 "yum install yum-plugin-replace",  "yum replace php-common &#x2013;replace-with=php55w-common"
-   重启apache "sudo apachectl restart"

## Mysql服务<a id="sec-7-4" name="sec-7-4"></a>

-   (centos7以后 开始用mariadb 代替mysql, 它属于mysql的一个分支版本)
-   已经安装包的查询 "rpm -qa | grep mysql" 或 "rpm -qa | grep mariadb"
-   查询后会发现mysql没有安装, 只有安装mariadb 安装maria-server
-   安装mariadb
    -   yum update
    -   查询可安装版本  yum list | grep maria-server
    -   yum install maria-server.x86-64
-   设置mariadb
    -   启动 service mariadb start
    -   查询状态 service mariadb status
    -   设置密码:
        -   进入数据空, 默认没有密码
        -   使用mysql数据库 use mysql;
        -   update user set password=password("irisloft") where user='root';
        -   flush privileges;
    -   开机启动 systemctl enable mariadb

## phpmyadmin<a id="sec-7-5" name="sec-7-5"></a>

-   <https://www.phpmyadmin.net/downloads/> 找一个合适格式的版本
-   下载 wget <https://files.phpmyadmin.net/phpMyAdmin/4.5.4.1/phpMyAdmin-4.5.4.1-all-languages.zip> ./
-   解压到DocumentRoot目录下
-   设置一下 config.inc.php
-   直接访问

## Zentao 服务<a id="sec-7-6" name="sec-7-6"></a>

### 自带apache及mysql安装(一键安装)<a id="sec-7-6-1" name="sec-7-6-1"></a>

-   下载一键安装包<http://www.zentao.net/download/79918.html>(tar.gz)
-   解压到/opt/下 tar zxvf *root/Tools/Zentao/ZenTaoPMS.8.0.1.zbox<sub>64</sub>.tar.gz -C /opt*
-   为了和正常的apache服务别开, 分别设置两个端口号
-   设置apache专用端口号  /opt/zbox/zbox -ap 8080
-   设置mysql 专用商品号  /opt/zbox/zbox -mp 3308
-   启动服务 /opt/zbox/zbox start
-   现在本机可以访问了, curl localhost:8080(ok) 但其它机器访问不了
-   关闭防火墙  systemctl stop firewalld.service
-   禁用防火墙(如果愿意) systemctl disable firewalld.service
-   ok

### 共用apache及mysql(源码安装)<a id="sec-7-6-2" name="sec-7-6-2"></a>

-   服务器上已经安装好apache及mysql, 并开启服务
-   下载源码安装包<http://www.zentao.net/download/79918.html(zip)>
-   解压到httpd服务的根目录下 unzip *root/Tools/Zentao/ZenTaoPMS.8.0.1.zip -d /var/www/html*
-   访问安装配置网页 <http://10.0.1.180/zentaopms/www/index.php>

## chanzhi服务<a id="sec-7-7" name="sec-7-7"></a>

-   服务器上已经安装apache及mysql,并开启服务
-   下载源码安装包 <http://www.chanzhi.org/download.html>
-   解压到httpd服务的根目录下 unzip *root/Tools/Chanzhi/chanzhiEPS.5.1.zip -d /var/www/html*
-   访问安装配置网页 <http://10.0.1.180/chanzhieps/www/install.php>
-   可以访问网页正常使用
-   设置上传附件的大小
    -   更改php的上传限制 /etc/php.ini 文件中upload相关 默认为2M
    -   更改chanzhieps/system/config/my.php 加入相关内容(格式参见同目录config.php)

## 挂载光驱,<a id="sec-7-8" name="sec-7-8"></a>

-   远程登录centos ssh root@192.168.1.180
-   mkdir /mnt/cdrom
-   mount /dev/cdrom /mnt/cdrom
-   ls -l *mnt/cdrom*
-   拷贝到本地
-   本地终端下 scp root@192.168.1.180:/mnt/cdrom/file1 ./testDir/

## ftp服务<a id="sec-7-9" name="sec-7-9"></a>

-   安装 yum install vsftpd
-   安装后默认没有开启
    -   开启 systemctl start vsftpd
    -   开机启动 systemctl enable vsftpd
-   开启端口
    -   firewall-cmd &#x2013;zone=public &#x2013;permanent &#x2013;add-port=21/tcp
    -   firewall-cmd &#x2013;zone=public &#x2013;permanent &#x2013;add-service=ftp
    -   firewall-cmd &#x2013;reload

# amazon学习<a id="sec-8" name="sec-8"></a>

## sshd原来, 不能ssh登录到instance<a id="sec-8-1" name="sec-8-1"></a>

<https://serverfault.com/questions/324860/how-do-i-mount-an-ebs-root-volume-to-a-windows-instance-in-amazon-ec2>
这个里面说的更详细一些.  (其实还是有很多坑)
基本是这样一个步骤
1.  把原来的instance stop掉
2.  把挂到instance上的 volume 解绑
3.  新开一个instance, 同地区,同类型
4.  把原有的volume 绑定到新 instance (登录它给出的默认名字ok)
5.  在登录新instance , mount 那个volume
6.  chown chmod 两个命令操作一个 sshd
7.  umount掉老volume
8.  把这个volume 和新instance 解绑后, 再重新绑定到老 instance (因为这此第一个volume)
    它的名字必须为 "/dev/sda1"
9.  重新启动老instance.
10. 可以登录了. over.

# 网站Web学习<a id="sec-9" name="sec-9"></a>

## IE早期版本问题, 兼容性<a id="sec-9-1" name="sec-9-1"></a>

-   如果用ie11浏览器的话, 先打开<http://219.232.200.39/uamsso/>
-   右上角->设置->兼容性视图,  它会把当前ip加入到兼容性列表中.

## Boostrap学习<a id="sec-9-2" name="sec-9-2"></a>

### 资源<a id="sec-9-2-1" name="sec-9-2-1"></a>

-   官网 <http://getbootstrap.com/>
-   中文 <http://www.bootcss.com/>
-   中文起步 <http://v3.bootcss.com/getting-started/>
-   中文文档 <http://v3.bootcss.com/css/>, 需要什么都在这里查

### 技巧<a id="sec-9-2-2" name="sec-9-2-2"></a>

-   自定义自己的css文件, 不更改bootstrap的样式
-   css文件导入越晚, 使用优先级越高
-   js文件的导入放到 body的最后, 以加快加载速度
-   **\***-inline 样式, 能使\*\*\*排成一行

### 弹出图片层<a id="sec-9-2-3" name="sec-9-2-3"></a>

-   <http://tsi.github.io/jQuery.imgBox/> 用了这个库
-   js文件175 行, 有逻辑bug
-   关闭按钮, 默认用了一个特殊字符, 建议改成图片, 相应的css也需要修改

# Emacs学习<a id="sec-10" name="sec-10"></a>

-   <http://blog.csdn.net/redguardtoo/article/details/7222501>
-   Steve Purcell的Emacs 配置.
-   <https://github.com/purcell/emacs.d>

# 翻墙<a id="sec-11" name="sec-11"></a>

## 第三方<a id="sec-11-1" name="sec-11-1"></a>

-   <https://ss.sitesir.cn/>
    试用套餐优惠码：4GFFO9ZC86
    用优惠码是免费的！
-   SS-Cube
    <https://sscube4.com>
-   穿云兔
    <http://www.douhunol.com>
    <http://ss.pldsrj.com/aff.php?aff=746>
-   金钥匙
    <http://safasti.com/>
-   云梯
    <https://www.ytsimple.com>

## aws 上搭建shadowsocks<a id="sec-11-2" name="sec-11-2"></a>

工作需要, 加上越来越不靠谱第三方VPN服务, 需要搭建一个自己的ss(Shadowsocks)服务器, 以下记录以备忘
首先购买一个amazon的Ec2服务并启动一个实例, 这个官网有详细的说明. <https://amazonaws-china.com/cn/>
而且,帐号注册第一年是基本免费的. 免的是ec2实例的运行费用, 如果你不是,存储特别大或传输特别多的时,基本就是完成免费

远程登录进aws
-安装shadowsocks服务端  sudo pip install shadowsocks (可能提示pip is not command)
  可以尝试 sudo /usr/local/bin/pip2.7 install shadowsocks,
  或用whereis pip 查找实际地址再加入到profile中
-   配置config.json文件
     mkdir Shadowsocks
     cd Shadowssocks
     touch config.json
     emacs config.json
     内容大致如下
     {
    "server":"0.0.0.0",
    "server<sub>port</sub>":443,
    "local<sub>address</sub>":"127.0.0.1",
    "local<sub>port</sub>":1080,
    "password":"your<sub>password</sub>",
    "timeout":300,
    "method":"aes-256-cfb",
    "fast<sub>open</sub>":false,
    "workers":2

}
-   开启服务
    ssserver -c ./config.json
    或
    sudo /usr/local/bin/ssserver -c ./config.json -d start
    同理 restart stop 进行开关控制
-   ssserver 其它参数选项

-   查看是否开启
    netstat -tunlp
-   自己的实现Demo <https://rct1985.github.io/blog/aws_vpn.html>

# XCode学习<a id="sec-12" name="sec-12"></a>

## 导出unity 适用的 framework<a id="sec-12-1" name="sec-12-1"></a>

-   新建一个framework工程
-   加入自己的逻辑
-   新建一个Target , 类型选择Cross-platform->External Build System 即用外部命令来Build这个framework
-   新建一个批处理文件 BuildUniversal.sh 内容参见 bitbucket上的工程IrisLab
-   在新建的Target项中, ->BuildPhase栏 ->Run Script
    -   shell : /bin/sh
    -   param: "$SRCROOT/BuildUniversal.sh"
-   Build工程, 就会产生universal版的 framcework

# Mac Store<a id="sec-13" name="sec-13"></a>

## 限制条件/不利条件<a id="sec-13-1" name="sec-13-1"></a>

-   完全基于沙盒, 不能访问外部的文件, 比如自动读取外部文件, 存储到外部位置
-   基于帐号的授权, 授权后,可以安装到任意多个设备, 某些只能安装到单个设备上的工具类软件, 不能生存
-   付费方式过于单一, 比如软件升级, 不能做为收费点
-   基于这些不利条件, 苹果也允许第三方开发者独立发售他们的app, 常用的非内转应用, 大都属于这一类型

# Android学习<a id="sec-14" name="sec-14"></a>

## 安装Android Studio 及 Andoid SDK<a id="sec-14-1" name="sec-14-1"></a>

-   下载最新的Android Studio , 启动后更新或下载最新的Andoid SDK
-   在Studio  的Preference->sdk manager 中可以查看安装情况

## unity android工程交互两种方式<a id="sec-14-2" name="sec-14-2"></a>

-   由android studio打出jar包或aar包. 放到unity中调用, 在unity中直接导出apk
-   unity导出android  studio工程, 在工程中配置完后, 由android studio导出apk
-   第二种方式, 一定要用上OnPostProcessBuild, 把相关资源文件, 替换到android studio工程中去

## android studio  打出jar包<a id="sec-14-3" name="sec-14-3"></a>

-   新建空的Android工程,
-   新建Module "RainDay" 类型为Android Library
-   如果有交互的话. 为"RainDay" 添加unity的classes.jar 依赖
-   classes位于: (Unity5.2.2/PlaybackEngines/androidPlayer/Variations/mono/Release/Classes/classes.jar) 拷贝到"RainDay" Module下
-   编辑RainDay Module的 build.gradle (一定是编辑这个Module下的build.gradle)
    task clearJar(type:Delete){
        delete'build/outputs/RainDay.jar'
        delete'build/outputs/AndroidManifest.xml'
     }
    
    task makeJar(type:Copy){
        from('build/intermediates/bundles/release/')
        into('build/outputs/')
        include('classes.jar')
        include('AndroidManifest.xml')
        rename('classes.jar','RainDay.jar')
    }
    makeJar.dependsOn(build)
    
    -   执行 gradlew makeJar (gradlew是当前目录下的一个文件 chmod a+x ./gradlew)
    -   第一次需要下载, 之后就几秒完成
    -   在导出目录下可以找到RainDay.jar

## android studio调试<a id="sec-14-4" name="sec-14-4"></a>

### logcat 过滤<a id="sec-14-4-1" name="sec-14-4-1"></a>

-   增加过滤配置
-   取个名字, 一般按照包体名过滤   eg:"com.irisloft.floodoflighttap"
-   log的格式为 "date time PID-TID/package priority/tag: message"
-   或者按照PID过滤, 查看属于此应用的log,找到PID-TID, 拿PID作为过滤器

## 安装apk 到真机或模拟器<a id="sec-14-5" name="sec-14-5"></a>

-   /Users/TerrenceRao/Library/Android/sdk/tools/adb install -r /Users/TerrenceRao/Desktop/test.apk
-   或者
-   /Users/TerrenceRao/Library/Android/sdk/platform-tools/adb install -r /Users/TerrenceRao/Desktop/test.apk

## java代码和C#代码交互<a id="sec-14-6" name="sec-14-6"></a>

-   用Android Studio 打出jar 包.
-   把jar包, 放到Unity工程的Plugin/android/libs/目录下
-   通过AndroidJavaObject 这个类进行交互

## android包体大小加缩记录<a id="sec-14-7" name="sec-14-7"></a>

-   1.未压缩之前 : 122.9M
-   2.把所有场景背景图, 关卡背景图, (70~80张 2048\*1536)缩小到原来大小1/4后 : 102.3M
-   3.音效文件(67个1s~10s)wav格式转为mp3格式 : 96M
-   在"3"的基础上测试 -> 删除所有的Bgm(11首100s左右的音乐): 81.4
-   在"3"的基础上测试 -> 删除所有音效, 音乐文件 77.8M
-   4. 增加GooglePlayerService for unity 98.4M

## unity包体大小总结<a id="sec-14-8" name="sec-14-8"></a>

-   图版大小, 扩大到2的n次幂, 以符合加压缩条件.
-   质量不是要求太高的话, 大小减为原来的1/4
-   wav格式->mp3格式

## GooglePlay Services 接口<a id="sec-14-9" name="sec-14-9"></a>

-   参考: "<https://github.com/playgameservices/play-games-plugin-for-unity>"
-   下载并导出: 导入自定义包(xxx.package文件)
-   导入注意: 导入时ios, XCode的相关的勾去掉
-   注意一下, 最小支持版本, android4.0 api level 14, unity中最小支持版本,只能大于等于这个版本
-   设置环境, 导入后菜单增加 Window->GooglePlay Game ->Set up (参考文档设置)
-   逻辑文件, 导出后会生成常量代码文件.
-   游戏交互, 基本和ios一样. 登录, 触发成就或上传积分, 查看成就或排行榜

## 上传至Google Play<a id="sec-14-10" name="sec-14-10"></a>

-   单个apk包体大小 < 100M

## Googleplay App Signing (GooglePlay重签名)<a id="sec-14-11" name="sec-14-11"></a>

-   对于上传的应用或游戏,可以选择开启GooglePlay App Signing
-   如果开启这个服务, 线上包, 和线下包就不能覆盖测试. 只能线上包测线上包, 本地包测本地包
-   Amazon线上包, 也不能和本地包相互覆盖

## unity导出apk签名<a id="sec-14-12" name="sec-14-12"></a>

-   apk需要证书签名. 在Unity->Player Setting设置

## Android中, 弹出小显示,可用于Debug<a id="sec-14-13" name="sec-14-13"></a>

-   import android.widget.Toast;
-   Toast.makeText(getApplicationContext(), "初始化失败, 请稍后再试!", Toast.LENGTH<sub>LONG</sub>).show();

## 返回键, 让游戏进入后台,而不是Quit<a id="sec-14-14" name="sec-14-14"></a>

-   C#中
    public static void makeActivityEnterBackground(){
        // Get the unity player activity
        AndroidJavaObject activity = new AndroidJavaClass("com.unity3d.player.UnityPlayer").GetStatic<AndroidJavaObject>("currentActivity");
        */ call activity's boolean moveTaskToBack(boolean nonRoot) function
        /* documentation:<http://developer.android.com/reference/android/app/Activity.html#moveTaskToBack(boolean)>
        activity.Call<bool>("moveTaskToBack", true);
    }

## 反编译AndroidManifest.xml<a id="sec-14-15" name="sec-14-15"></a>

-   release包中这个文件是个二进制文件
-   使用AXMLPrinter2.jar 可以反编译

## unity 导出 android sutdio工程<a id="sec-14-16" name="sec-14-16"></a>

-   ProductName 最后用英文, 因为它决定路径的名字, 游戏名,可以以strings.xml再改
-   Build Setting 中BuildSystem选择 Gradle
-   Export project 勾选上.
-   选择路径导出

## Android Studio中, 打出apk<a id="sec-14-17" name="sec-14-17"></a>

-   Android studio打开后, 选择Open An Existed Android Studio project
-   Build菜单中, 即可导出apk
-   Build菜单中, 导出签名apk, 导出过程中选择keystore文件, 及相关密码
-   AS2.3起， 签名时，分了两V1,V2 两种方式。 不能只勾选V2, 会导致Android7.0以机器不能正常安装
-   build.gradle 中的targetSdkVersion 会覆盖 工程中的AndroidManifest.xml , 然后再打到release包中

## Android studio内接入第三方sdk<a id="sec-14-18" name="sec-14-18"></a>

-   使用OnPostProcessBuild,
-   把相关jar文件, copy到外层libs中. 即与unity-classes.jar同一目录, 会自动添加到依赖库中
-   把自定义的AndroidManifest.xml,  替换掉原有的
-   把proguard-unity.txt, strings.xml, assets等, 都拷贝过去
-   把UnityMainActivity.java 也编辑好拷过去. 在AndroidStudio中编辑完, 别忘同步到外部

## 自定义mainTemplate.gradle<a id="sec-14-19" name="sec-14-19"></a>

-   在Unity安装目录下搜索这个文件
-   一般在 /Application/Unity/Playbackengines/Androidplayer/Tools/GradleTemplates/下
-   拷贝到Assets/Plugins/Android/目录下
-   自定义其中变量
-   其中,compileSdkVersion 整型, 在SDKManager中选择已经安装的版本 eg:21
-   buildToolsVersion 字符串型, 在SDKManager中选择已经安装版本eg:'21.1.2'

## AS2.2.3 VS AS2.3 VS AS3.0<a id="sec-14-20" name="sec-14-20"></a>

-   File -> ProjectStructure -> Project 查看Android Plugin,
-   这个与mainTemplate.gradle中的 buildsript/dependencies/classpath一致
-   Android Plugin Version (2.2.3 <-> 2.3.0 <-> 3.0.0)
-   Grade Version (2.14.0 <->3.3 <->4.1)
-   buildToolsVersion (21.1.2 <->21.1.2 <-> 26.0.2)
-   如果这两在grade sync时, 都会自动下载配置, 但最好在mainTemplate中设置好
-   推荐使用v2.3 或更新版本 打包, 打包签名时有V1, V2选项

## Standalone SDK Manager<a id="sec-14-21" name="sec-14-21"></a>

-   AS2.3以前, 在SDK Manager选项中, 可以启动, 之后的版本没有这个启动项了
-   sdk/tools/android 这个命令, 可以直接启动

## 辨别V1 V2签名<a id="sec-14-22" name="sec-14-22"></a>

-   解压开 apk文件, /META-INF/CERT.SF文件
-   文件前四行/三行, 看是否存在 X-Android-APK-Signed: 2 (存在即为V2签名, 不存在为V1签名)

## Unity与Android交互, C#与Android交互<a id="sec-14-23" name="sec-14-23"></a>

-   <http://www.cnblogs.com/suoluo/p/5443889.html>
-   C#调用Java, 参见TapTapManager.cs
-   java层的函数, 有时需要在UI线程里调用
     public void initSDK(){
        //在UI线程中调用
        runOnUiThread(new Runnable() {
            @Override
            public void run() {
                initSDKInUIThread();//实际被调用的方法
            }
        });
    }
-   Java调用C#, mUnityPlayer.UnitySendMessage("TestGameObject", "Func", str)
-   注意名字, 一定不能TestGameObject(Clone)

## Android Studio 自动删除无用的import (打开或关闭)<a id="sec-14-24" name="sec-14-24"></a>

-   Preference->Editor->General->Auto Import->Optimize Import on the fly

## Android Studio 打包失败, 内存溢出<a id="sec-14-25" name="sec-14-25"></a>

-   更改gradle.properties文件
-   增加 org.gradle.jvmargs=-Xmx4g -XX:MaxPermSize=512m

## Android重新签名<a id="sec-14-26" name="sec-14-26"></a>

jarsigner -verbose -keystore [您的私钥存放路径] -signedjar [签名后文件存放路径] [未签名的文件路径] [您的证书名称]

jarsigner的参数说明

-keystore 参数指定您的私钥的绝对路径,例如：/Users/haoweilai/mykeystore
-signedjar 参数指定签名后apk文件存放绝对的路径,例如 /Users/haoweilai/signed.apk
[未签名的文件路径] 指定要签名apk文件的绝对路径,也就是您从我们这里下载到的，例如 /Users/haoweilai/meizuemptyapk-release-unsigned.apk
[您的证书名称] 是指您创建密钥时您设置的证书名称

命令举例示例

jarsigner -verbose -keystore /Users/haoweilai/mykeystore -signedjar ./signed.apk ./unsigned.apk haha

jarsigner -verbose -digestalg SHA1 -sigalg MD5withRSA -keystore /Users/terrence/Android<sub>Tools</sub>/irisloft.keystore -signedjar ./floodoflight<sub>resigned</sub>.apk ./floodoflight.apk irisloft

Q&A

jarsigner 错误: java.lang.RuntimeException: 密钥库加载: /Users/haoweilai/kaoyan<sub>keystore</sub> (No such file or directory)
由于keystore的扩展名写错，在mac中keystore默认是没有扩展名的，而我的keystore的扩展名称是.txt,去掉keystore的扩展名称即可解决此问题

jarsigner: 找不到kaoyan<sub>keystore的证书链</sub>
由于证书名称写错了，证书名称即Alias(你设置的别名)

## Android 查看apk签名<a id="sec-14-27" name="sec-14-27"></a>

-   解压apk,
-   cd ./META-INF
-   keytool -printcert -file ./IRISLOFT.RSA

## Android Studio 下 AndroidMonitor  查看logcat<a id="sec-14-28" name="sec-14-28"></a>

-   参考: <https://developer.android.com/studio/debug/am-logcat.html?utm_source=android-studio#running>
-   Debug版的话, 可以查看本应用的所有log.
-   Release版本的话, 只能通过Filter的方式,
-   Filter方式, 比较好的方式是 指定PID
-   有效Filter举例
    -   "12-25 11:54:20.095 28347-28347/? I/FloodofLight: In Java onCreate"
    -   在No filters时, 先通过搜索, 找到一条本应用的log,如上
    -   其中PID即为 28347
    -   在Filter中指定PID
-   Filter中, 指定Tag 或 Package名的方式, 通常不大好用 , 原因不名
    -   Filer相对麻烦, 所以尽量在Debug版情况下, 调试功能.

## 查看电视上运行的apk输出的log<a id="sec-14-29" name="sec-14-29"></a>

-   adb connect 电视ip
-   adb logcat  - v   > 文件路径

## 资源出错 expected reference but got (raw string)<a id="sec-14-30" name="sec-14-30"></a>

-   android.enableAapt2默认开启, 如果有问题的话, 可以在gradle.properties中关闭
-   android.enableAapt2 = false

## Unity打包时  "Unable to convert classes into DEX format"<a id="sec-14-31" name="sec-14-31"></a>

-   The most likely cause for this issue is that you have a Java plug-in added twice

## 真机查看log, 使用adb logcat<a id="sec-14-32" name="sec-14-32"></a>

-   查看所有log
    -   adb logcat
-   查看特定内容的log
    -   adb logcat | grep -E -i "unity|Myapp"
-   查看特定进程processID的log
    -   adb logcat | grep  $12277

# Steam学习<a id="sec-15" name="sec-15"></a>

## unity集成第三方.NetSDK<a id="sec-15-1" name="sec-15-1"></a>

-   SDKgithub地址:   <https://github.com/rlabrecque/Steamworks.NET>
-   操作说明地址: <http://steamworks.github.io>
-   入门代码 <http://steamworks.github.io/gettingstarted/>
-   各种功能的演示代码 <https://github.com/rlabrecque/Steamworks.NET-Test/>
-   如果不想把Steamworks.NET 打到包里. 在PlayerSetting 定义一个宏 DISABLESTEAMWORKS. 相关代码也用这个宏控制一下

## 集成完毕后打出Mac, Winows游戏包<a id="sec-15-2" name="sec-15-2"></a>

-   windows版包, 要注意steam<sub>api</sub>.dll所在的位置.
-   Steamwork/Editor下脚本, RedistCopy.cs中. 写死了从"Assets/Plugin/x86" 下找. 如果更改位置的话, 这里要改一下

## Steamworks 上传前设置 "Technial Tools"->"Edit Steamworks Setting"<a id="sec-15-3" name="sec-15-3"></a>

不同版本界面不一样. 至少发贴时看到的就和视频里的不一样
-   文档参考地址: <https://partner.steamgames.com/documentation/steampipe>
-   视频参考地址: <https://www.youtube.com/watch?v=SoNH-v6aU9Q&feature=youtu.be>, 这个是带字幕的, youtube的字幕做得是真棒
    -   "Application"->"General"
    -   "SteamPipe" -> "Depos"
    -   "Installation" -> "General"
    -   "Pulish"
    -   以上栏目是上传前必须要设置的.

## Steamworks Build及Package的创建<a id="sec-15-4" name="sec-15-4"></a>

-   上传完可以在 "Steampipe Builds"中看到, 然后设置default分支
-   按照上述流程走完之后, 在SteamClient上, 并没有看到新上传的游戏, 原因是没有创建Standard Package,
    -   查了Steamworks Developer的论坛后, 结论是可能是valve的一个bug,
    
    因为有很多人遇到这个问题(当然更多没有遇到),
    然后发贴求助, 同时写明了Steam appID, 几个小时后, Valve成员, 帮助创建了Standard Package.
    
    -   查看所有包含此App 的Package. (即所有与此App, 相关的可以销售或分发的包体, 比如商店正式包, Demo包. 扩展DLC包, 音轨包OST)
    
    也就是说, 在 <https://partner.steamgames.com/apps/associated/606480> 中
    "Store Package"栏中, 要有一个package,
    "Promotional or Special-use package", 要有两个package
    给这些package 指定包含的 Apps, 每个App指定所包含的Depots

## Steamworks版本上传<a id="sec-15-5" name="sec-15-5"></a>

-   下载Steamwork sdk v1.39(当时最新版本)
-   Mac版和Window版可执行程序, 分目录,  ./sdk<sub>v1</sub>.39/tools/ContentBuild/content/ 下
-   编辑 ContentBuild/script/ 下的app及depot 配置文件
-   进入steam命令行模式 成功后显示 Steam>
    -   Mac系统: 进入./builder<sub>osx</sub>/ 运行 sh ./steamcmd.sh. (可能需要root权限)
    -   Windows: 进入./builder/ 运行 ./steamcmd.exe
-   登录 login TerrenceRao. 之后输入密码
-   上传 run<sub>app</sub><sub>build</sub><sub>http</sub> /Users/terrence/Tools/SteamWork/sdk<sub>v1</sub>.39/tools/ContentBuilder/scripts/app<sub>build</sub><sub>606480</sub>.vdf
-   等待所有depot build和上传
-   退出 quit
-   登录partner.steamgames.com 去设置最新build到default分支

## Steam 客户端下载<a id="sec-15-6" name="sec-15-6"></a>

-   开启下限带宽不受限
-   下载地区, 中国北京, 中国香港, 美国洛杉矾. 依次试下. 应该在500KB/S 才正常

## Steam 兑换码<a id="sec-15-7" name="sec-15-7"></a>

-   测试码 (Beta testing Keys), 可以在发售前用, 发售后就和正式码一样.
-   正式码(Retail Key) 仅正式发售后用
-   两者只能用其中一个, 再用时会提示已经拥有些产品

## Steam 杂项<a id="sec-15-8" name="sec-15-8"></a>

### 成就列表, 正式发售前, 不可以查看<a id="sec-15-8-1" name="sec-15-8-1"></a>

-   <http://steamcommunity.com/groups/steamworks/discussions/0/135507548128422642/>

### DLC收费的话<a id="sec-15-8-2" name="sec-15-8-2"></a>

-   在开发帐号(管理员帐号). 会被自动下载.
-   Beta test的外部帐号不会下载, 他们还要单独购买

n\*\*\* 用测试版兑换码激活应用程序的用户将无法在 Steam 商店中购买该应用程序。

### 测试方式<a id="sec-15-8-3" name="sec-15-8-3"></a>

-   一般来讲, 上线前直接发兑换码给处部测试用户, 即直接在Default分支上测试
-   上线后, 用测试分支的方式. 把build加入到测试分去. 设置密码, 让外部用户, 在steam客户端, 切到测试分去测试

### 客户端图像<a id="sec-15-8-4" name="sec-15-8-4"></a>

-   ico文件, 是可以包含多个大小图像的文件
-   <https://www.icoconverter.com/> 这里可以在线制作. 包含多个大小图像的文件
-   Windows版要求至少要包含一个32\*32的图像.
-   所以16\*16, 32\*32, 48\*48 三个大小的文件

# python学习<a id="sec-16" name="sec-16"></a>

## 读取excel xlrd<a id="sec-16-1" name="sec-16-1"></a>

-   参照以下链接
-   <https://pypi.python.org/pypi/xlrd>

## python<sub>django</sub><a id="sec-16-2" name="sec-16-2"></a>

### 安装MySQLdb<a id="sec-16-2-1" name="sec-16-2-1"></a>

-   下载 <http://sourceforge.net/projects/mysql-python/> 源码
-   安装 (1:python setup.py clean   2:python setup.py build   3:sudo python setup.py install)
-   安装过程可能遇到的问题google一下,比较简单能解决
-   使用问题 代码中import MySQLdb后 报unsafe问题
    -   首先用户目录下的.python-eggs目录是临时目录. 要改/Library/Python/2.7/site-packages/ySQL<sub>python</sub>-1.2.3-py2.7-macosx-10.11-intel.egg
    -   这是一个zip类型的文件. 解压后有一个 \_mysql.so
    -   otool -L \_mysq.so 可以看到它的动态链接地址, 本来是一个相对地址(unsafe 的原因)
    -   sudo install<sub>name</sub><sub>tool</sub> -change libmysqlclient.18.dylib   /usr/local/mysql/lib/libmysqlclient.18.dylib ./<sub>mysql</sub>.so
    -   再用 otool -L 查看. 已经改过
    -   把改过的这个文件和其它文件, 重新压缩. 改名. 放置到原来目录

### python 使用protobuf<a id="sec-16-2-2" name="sec-16-2-2"></a>

-   下载最新版protobuf2.6.1
-   进入protobuf-2.6.1 按照README.md 进行编译库的安装
-   进入prottobuf-2.6.1/python/README.txt 进行python protobuf的安装

# Excel学习<a id="sec-17" name="sec-17"></a>

## Excel 常公式<a id="sec-17-1" name="sec-17-1"></a>

-   <http://www.wordlm.com/Excel/HanShu/2263.html>
-   每隔几行提取数据,OFFSET函数
-   eg:OFFSET($D$1,ROW(D1)\*4-1,0) (在D1列, 每四行取一个数据)

# Temp<a id="sec-18" name="sec-18"></a>

features

# Beyond Compare<a id="sec-19" name="sec-19"></a>

## 无限试用4.x版本<a id="sec-19-1" name="sec-19-1"></a>

-   ~/Library/Application Support/Beyond Compare/registry.dat
-   删除这个文件, 重新启动应用
